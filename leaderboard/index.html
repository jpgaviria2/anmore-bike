<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Comprehensive bike resources for Anmore BC - clinics, trails, pump tracks, and bike trains"><meta name="generator" content="Astro v5.17.1"><!-- PWA --><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#16a34a"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="apple-mobile-web-app-title" content="Anmore.bike"><!-- Base path for JS --><meta name="base-path" content><!-- Favicon --><link rel="icon" type="image/svg+xml" href="/favicon.svg"><!-- Leaflet CSS --><link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"><link rel="stylesheet" href="https://unpkg.com/leaflet-draw@1.0.4/dist/leaflet.draw.css"><title>Community Leaderboard - Anmore.bike</title><script>(function(){const base = "/";

      // Register service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register(`${base}sw.js`).then(
            registration => console.log('SW registered:', registration),
            error => console.error('SW registration failed:', error)
          );
        });
      }
      
      // Listen for online/offline events
      window.addEventListener('online', () => {
        document.body.classList.remove('offline');
        document.body.classList.add('online');
      });
      
      window.addEventListener('offline', () => {
        document.body.classList.remove('online');
        document.body.classList.add('offline');
      });
    })();</script><link rel="stylesheet" href="/_astro/admin.DLx2nVZg.css"></head> <body class="min-h-screen bg-gray-50"> <!-- Offline indicator --> <div id="offline-indicator" class="hidden offline:block fixed top-0 left-0 right-0 bg-yellow-500 text-white text-center py-2 text-sm z-50">
You are offline. Forms will be queued and sent when connection is restored.
</div> <!-- PWA install prompt --> <div id="pwa-install" class="hidden fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 bg-green-600 text-white p-4 rounded-lg shadow-lg z-50"> <p class="font-semibold mb-2">Install Anmore.bike</p> <p class="text-sm mb-3">Add to your home screen for quick access and offline use!</p> <div class="flex gap-2"> <button id="pwa-install-btn" class="bg-white text-green-600 px-4 py-2 rounded font-semibold text-sm">
Install
</button> <button id="pwa-dismiss" class="bg-green-700 text-white px-4 py-2 rounded font-semibold text-sm">
Not Now
</button> </div> </div>  <nav class="bg-green-600 text-white sticky top-0 z-40 shadow-lg"> <div class="container mx-auto px-4"> <div class="flex items-center justify-between py-4"> <!-- Logo/Brand --> <a href="/" class="text-xl md:text-2xl font-bold flex items-center gap-2"> <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"></path> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13a3 3 0 11-6 0 3 3 0 016 0z"></path> </svg> <span class="hidden sm:inline">Anmore.bike</span> </a> <!-- Desktop Navigation --> <div class="hidden lg:flex items-center gap-6"> <a href="/" class="hover:text-green-200 transition "> Home </a><a href="/trail-building" class="hover:text-green-200 transition "> Trail Building </a><a href="/pump-track" class="hover:text-green-200 transition "> Pump Track </a><a href="/bike-train" class="hover:text-green-200 transition "> Bike Train </a><a href="/clinics" class="hover:text-green-200 transition "> Bike Clinics </a><a href="/afterschool" class="hover:text-green-200 transition "> Afterschool Programs </a><a href="/leaderboard" class="hover:text-green-200 transition "> Leaderboard </a><a href="/admin" class="hover:text-green-200 transition "> ğŸ”’ Admin </a> </div> <!-- Mobile Menu Button --> <button id="mobile-menu-btn" class="lg:hidden p-2 rounded-lg hover:bg-green-700 transition" aria-label="Toggle menu"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path id="menu-icon" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path> <path id="close-icon" class="hidden" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <!-- Mobile Menu --> <div id="mobile-menu" class="hidden lg:hidden pb-4"> <a href="/" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Home </a><a href="/trail-building" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Trail Building </a><a href="/pump-track" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Pump Track </a><a href="/bike-train" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Bike Train </a><a href="/clinics" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Bike Clinics </a><a href="/afterschool" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Afterschool Programs </a><a href="/leaderboard" class="block py-3 px-4 hover:bg-green-700 rounded transition "> Leaderboard </a><a href="/admin" class="block py-3 px-4 hover:bg-green-700 rounded transition "> ğŸ”’ Admin </a> </div> </div> </nav> <script type="module">const s=document.getElementById("mobile-menu-btn"),e=document.getElementById("mobile-menu"),n=document.getElementById("menu-icon"),d=document.getElementById("close-icon");s?.addEventListener("click",()=>{e?.classList.contains("hidden")?(e?.classList.remove("hidden"),n?.classList.add("hidden"),d?.classList.remove("hidden")):(e?.classList.add("hidden"),n?.classList.remove("hidden"),d?.classList.add("hidden"))});</script> <div class="container mx-auto px-4 py-8 md:py-12 max-w-6xl"> <div class="text-center mb-8"> <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Community Leaderboard</h1> <p class="text-lg text-gray-700 max-w-2xl mx-auto">
Celebrating our contributors building a better bike community in Anmore!
</p> </div> <!-- Stats Overview --> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8"> <div class="bg-white border-2 border-green-200 rounded-lg p-4 text-center"> <div class="text-3xl font-bold text-green-600" id="total-contributors">0</div> <div class="text-sm text-gray-600 mt-1">Contributors</div> </div> <div class="bg-white border-2 border-blue-200 rounded-lg p-4 text-center"> <div class="text-3xl font-bold text-blue-600" id="total-submissions">0</div> <div class="text-sm text-gray-600 mt-1">Submissions</div> </div> <div class="bg-white border-2 border-purple-200 rounded-lg p-4 text-center"> <div class="text-3xl font-bold text-purple-600" id="this-month">0</div> <div class="text-sm text-gray-600 mt-1">This Month</div> </div> <div class="bg-white border-2 border-orange-200 rounded-lg p-4 text-center"> <div class="text-3xl font-bold text-orange-600" id="trail-proposals">0</div> <div class="text-sm text-gray-600 mt-1">Trail Ideas</div> </div> </div> <!-- Time Filter --> <div class="flex justify-center gap-2 mb-6"> <button class="filter-btn active px-6 py-2 rounded-lg font-semibold text-sm transition" data-filter="all">
All Time
</button> <button class="filter-btn px-6 py-2 rounded-lg font-semibold text-sm transition" data-filter="month">
This Month
</button> <button class="filter-btn px-6 py-2 rounded-lg font-semibold text-sm transition" data-filter="week">
This Week
</button> </div> <!-- Leaderboard --> <div class="bg-white rounded-xl shadow-lg overflow-hidden mb-8"> <div class="bg-green-600 text-white px-6 py-4"> <h2 class="text-xl font-bold">Top Contributors</h2> </div> <div id="leaderboard-loading" class="p-12 text-center"> <div class="inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-green-600"></div> <p class="text-gray-600 mt-4">Loading contributors...</p> </div> <div id="leaderboard-error" class="hidden p-8 text-center"> <svg class="w-16 h-16 text-red-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path> </svg> <p class="text-gray-700 font-semibold mb-2">Unable to load leaderboard</p> <p class="text-gray-600 text-sm mb-4" id="error-message">Please check your connection and try again.</p> <button onclick="location.reload()" class="bg-green-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-green-700 transition">
Retry
</button> </div> <div id="leaderboard-empty" class="hidden p-12 text-center"> <svg class="w-16 h-16 text-gray-400 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path> </svg> <p class="text-gray-700 font-semibold mb-2">No contributors yet</p> <p class="text-gray-600">Be the first to contribute!</p> </div> <div id="leaderboard-list" class="hidden divide-y divide-gray-200"> <!-- Will be populated by JavaScript --> </div> </div> <!-- Achievement Badges Info --> <div class="bg-white rounded-xl shadow-lg p-6 md:p-8"> <h2 class="text-2xl font-bold text-gray-900 mb-6">Achievement Badges</h2> <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4"> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸš´</div> <div> <div class="font-bold text-gray-900">First Ride</div> <div class="text-xs text-gray-600">First contribution</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸŒŸ</div> <div> <div class="font-bold text-gray-900">Rising Star</div> <div class="text-xs text-gray-600">5 contributions</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ’ª</div> <div> <div class="font-bold text-gray-900">Committed</div> <div class="text-xs text-gray-600">10 contributions</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ”¥</div> <div> <div class="font-bold text-gray-900">On Fire</div> <div class="text-xs text-gray-600">25 contributions</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ‘‘</div> <div> <div class="font-bold text-gray-900">Legend</div> <div class="text-xs text-gray-600">50+ contributions</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ›¤ï¸</div> <div> <div class="font-bold text-gray-900">Trail Builder</div> <div class="text-xs text-gray-600">Trail proposals</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ¢</div> <div> <div class="font-bold text-gray-900">Pump Pioneer</div> <div class="text-xs text-gray-600">Pump track ideas</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸš‚</div> <div> <div class="font-bold text-gray-900">Train Conductor</div> <div class="text-xs text-gray-600">Bike train routes</div> </div> </div> </div> <div class="border-2 border-gray-200 rounded-lg p-4 hover:border-green-400 transition"> <div class="flex items-center gap-3 mb-2"> <div class="text-3xl">ğŸ“</div> <div> <div class="font-bold text-gray-900">Mentor</div> <div class="text-xs text-gray-600">Clinic volunteering</div> </div> </div> </div> </div> <div class="mt-6 bg-blue-50 border-2 border-blue-200 rounded-lg p-4 text-center"> <p class="text-sm text-blue-900"> <strong>Note:</strong> Leaderboard data is fetched live from Nostr relays. 
          To see your contributions, make sure you're using the same profile key (nsec) you used to submit.
</p> </div> </div> </div> <script type="module" src="/_astro/leaderboard.astro_astro_type_script_index_0_lang.DHH-UusZ.js"></script>  <script type="module">let n;window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),n=e;const t=document.getElementById("pwa-install");t&&t.classList.remove("hidden")});document.getElementById("pwa-install-btn")?.addEventListener("click",async()=>{if(n){n.prompt();const{outcome:e}=await n.userChoice;console.log(`User response: ${e}`),n=null;const t=document.getElementById("pwa-install");t&&t.classList.add("hidden")}});document.getElementById("pwa-dismiss")?.addEventListener("click",()=>{const e=document.getElementById("pwa-install");e&&e.classList.add("hidden")});</script> </body> </html>